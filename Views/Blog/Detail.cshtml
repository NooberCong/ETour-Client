@model PostDetailModel

@{
    ViewData["Title"] = Model.Post.Title;
}

<style>
    #content p {
        width: 100% !important;
    }
</style>

<div class="container py-5">
    <figure class="mb-5"><img class="img-fluid rounded w-100" src="@Model.Post.CoverImgUrl" alt="coverImg" /></figure>
    <!-- Post content-->
    <h1 class="font-weight-bold">@Model.Post.Title</h1>
    <div class="text-muted d-flex justify-content-sm-between mt-3 mb-5">
        <div>
            <p class="pb-1">Written by @Model.Post.Author.FullName on @Model.Post.LastUpdated</p>
        </div>
        <div>
            <i class="fas fa-tag mr-2"></i>
            @for (int i = 0; i < Model.Post.Tags.Count; i++)
            {
                <a href="#!" class="text-reset">@Model.Post.Tags[i]</a>
                @if (i != Model.Post.Tags.Count - 1)
                {
                    <span>,&nbsp;</span>
                }
            }
        </div>
    </div>
    <section id="content" class="mb-3 overflow-hidden w-100">
        @Html.Raw(Model.Post.Content)
    </section>
    <!-- Comments section-->
    <section>
        <div class="card bg-light">
            <div class="card-body">
                <!-- Comment form-->
                <h4 class="mb-4">Comments<span class="font-weight-normal ml-3">4</span></h4>
                <!-- Comment with nested comments-->
                <div class="d-flex mb-4">
                    <!-- Parent comment-->
                    <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                    <div class="ms-3">
                        <div class="fw-bold">Commenter Name</div>
                        If you're going to lead a space frontier, it has to be government; it'll never be private enterprise. Because the space frontier is dangerous, and it's expensive, and it has unquantified risks.
                        <!-- Child comment 1-->
                        <div class="d-flex mt-4">
                            <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                            <div class="ms-3">
                                <div class="fw-bold">Commenter Name</div>
                                And under those conditions, you cannot establish a capital-market evaluation of that enterprise. You can't get investors.
                            </div>
                        </div>
                        <!-- Child comment 2-->
                        <div class="d-flex mt-4">
                            <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                            <div class="ms-3">
                                <div class="fw-bold">Commenter Name</div>
                                When you put money directly to a problem, it makes a good headline.
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Single comment-->
                <div class="d-flex">
                    <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                    <div class="ms-3">
                        <div class="fw-bold">Commenter Name</div>
                        When I look at the universe and all the ways the universe wants to kill us, I find it hard to reconcile that with statements of beneficence.
                    </div>
                </div>
            </div>
        </div>
    </section>
    <h3 class="my-5">You may also be interested in</h3>
    <div class="overflow-auto">
        <div class="d-inline-flex py-3">
            @foreach (var post in Model.Recommendations)
            {
                <div class="mr-5" style="width: 20rem;">
                    <!-- Card -->
                    <img class="img-fluid rounded" style="object-fit: cover; width: 100%; height: 12rem" src="@post.CoverImgUrl" alt="Sample">

                    @if (post.LastUpdated >= DateTime.Now.AddDays(-1))
                    {
                        <span class="mb-0"><span class="badge badge-primary badge-pill badge-news">New</span></span>
                    }

                    <div class="pt-4">
                        <a asp-action="Detail" asp-route-id="@post.ID" class="h5 card-link" style="color: black">@post.Title</a>
                        <p class="small text-muted text-uppercase my-3 d-md-flex justify-content-between">
                            <a href="#!" class="text-reset">by <strong>@post.Author.FullName</strong></a>
                            <a href="#!" class="text-reset d-block">@post.LastUpdated.ToCustomDateString()</a>
                        </p>
                        <hr>

                    </div>
                    <div class="d-flex justify-content-between text-uppercase text-muted white small">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-tag mr-2"></i>
                            @for (int i = 0; i < post.Tags.Count; i++)
                            {
                                <a href="#!" class="text-reset">@post.Tags[i]</a>
                                @if (i != post.Tags.Count - 1)
                                {
                                    <span>,&nbsp;</span>
                                }
                            }
                        </div>
                        <div class="d-flex align-items-center">
                            <a href="#!" class="text-reset">
                                <i class="fas fa-comment-alt mr-2"></i>1
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
